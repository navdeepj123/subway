<%- include("partials/header.ejs") %>
<link rel="stylesheet" href="/public/css/payment.css">

<div class="payment-container">
    <h1>Pay</h1>
    
    <div class="payment-card">
        <h2>Card</h2>
        
        <div class="card-types">
            <span class="card-type active">VISA</span>
            <span class="card-type">Mastercard</span>
            <span class="card-type">AMEX</span>
        </div>
        
        <form action="/process-payment" method="POST" id="payment-form">
           
            
            <div class="form-group">
                <label for="name">Name on card</label>
                <input type="text" id="name" name="name" required>
                <div class="divider"></div>
            </div>
            
            <div class="form-group">
                <label for="card_number">Card number</label>
                <input type="text" id="card_number" name="card_number" placeholder="1234 5678 9012 3456" required>
            </div>
            
            <div class="form-row">
                <div class="form-group half-width">
                    <label>Expiry date</label>
                    <input type="text" name="expiry" placeholder="MM/YY" required>
                </div>
                
                <div class="form-group half-width">
                    <label>Security code (CVV)</label>
                    <input type="text" name="cvv" placeholder="123" required>
                </div>
            </div>
            
            <button type="submit" class="pay-button">Pay</button>
        </form>
        
        <div class="alternative-payments">
            <h3>Alternative Payments</h3>
            <div class="payment-option">
                <input type="radio" id="ideal" name="alt_payment" value="ideal">
                <label for="ideal">iDeal</label>
            </div>
            <div class="payment-option">
                <input type="radio" id="sofort" name="alt_payment" value="sofort">
                <label for="sofort">Sofort</label>
            </div>
        </div>
    </div>
</div>

<%- include("partials/footer.ejs") %>

<script>
    // Format card number input
    document.getElementById('card_number').addEventListener('input', function(e) {
        this.value = this.value.replace(/\s/g, '').replace(/(\d{4})/g, '$1 ').trim();
    });
    
    // Format expiry date input
    document.querySelector('input[name="expiry"]').addEventListener('input', function(e) {
        this.value = this.value.replace(/\D/g, '').replace(/(\d{2})(\d)/, '$1/$2');
    });
</script>